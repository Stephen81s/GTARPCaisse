<!-- ============================================================
     PAGE : index.html
     MODULE : Core
     DESCRIPTION :
        - Point d'entrée principal du SPA
        - Charge les includes + scripts core
        - Initialise le SPA PRO 2026
     ============================================================ -->

<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RP Manager PRO 2026</title>

    <script>
        // Détection automatique du chemin racine
        window.ROOT = (location.hostname === "localhost" || location.hostname === "127.0.0.1")
            ? ""
            : "/GTARPCaisse";
    </script>

    <link rel="stylesheet" href="styles/main.css" />
</head>

<body>

    <div id="includes"></div>

    <main id="page-frame"></main>

    <!-- Includes HTML -->
    <script>
        fetch(`${ROOT}/includes/global.html`)
            .then(r => r.text())
            .then(html => document.getElementById("includes").innerHTML = html);
    </script>

    <!-- Includes scripts -->
    <script>
        fetch(`${ROOT}/includes/scripts.html`)
            .then(r => r.text())
            .then(html => document.body.insertAdjacentHTML("beforeend", html));
    </script>

</body>
</html>