<!-- ============================================================
     FICHIER : pages/entreprise/banque.html
     ARCHITECTURE : RP MANAGER — PRO 2026
     MODULE : Banque entreprise
     DESCRIPTION :
        - Solde
        - Dépôt / Retrait / Transfert
        - Historique
        - Graphique
     AUTEUR : Stephen
     ============================================================ -->

<section class="page-container">

    <h1 class="page-title">Banque d'entreprise</h1>

    <!-- SOLDE -->
    <div class="card">
        <h2>Solde actuel</h2>
        <div class="solde-display" id="solde-amount">0 $</div>

        <div class="actions-row">
            <button class="btn-green" onclick="openOperationModal('deposit')">Dépôt</button>
            <button class="btn-red" onclick="openOperationModal('withdraw')">Retrait</button>
            <button class="btn-blue" onclick="openOperationModal('transfer')">Transfert</button>
        </div>
    </div>

    <!-- GRAPHIQUE -->
    <div class="card">
        <h2>Graphique des opérations</h2>
        <canvas id="banqueChart" height="120"></canvas>
    </div>

    <!-- HISTORIQUE -->
    <div class="card">
        <h2>Historique</h2>

        <div class="filters-row">
            <select id="filter-type">
                <option value="">Tous</option>
                <option value="deposit">Dépôts</option>
                <option value="withdraw">Retraits</option>
                <option value="transfer">Transferts</option>
            </select>

            <input type="date" id="filter-date">
            <button class="btn-grey" onclick="loadHistorique()">Filtrer</button>
        </div>

        <table class="pro-table">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Type</th>
                    <th>Montant</th>
                    <th>Effectué par</th>
                </tr>
            </thead>
            <tbody id="historique-body"></tbody>
        </table>
    </div>

</section>

<!-- MODAL -->
<div id="operation-modal" class="modal hidden">
    <div class="modal-content">
        <h3 id="modal-title">Opération</h3>

        <input type="number" id="operation-amount" placeholder="Montant">

        <div id="transfer-target-container" class="hidden">
            <input type="text" id="transfer-target" placeholder="ID entreprise cible">
        </div>

        <div class="modal-actions">
            <button class="btn-secondary" onclick="closeOperationModal()">Annuler</button>
            <button class="btn-primary" onclick="confirmOperation()">Valider</button>
        </div>
    </div>
</div>

<link rel="stylesheet" href="../../styles/entreprise.css">
<script src="../../scripts/entreprise/banque.js"></script>