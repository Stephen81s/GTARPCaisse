<!-- ===========================================================
     PAGE : admin_panel.html
     ARCHITECTURE : PRO 2026
     AUTEUR : Stephen + Copilot PRO
     -----------------------------------------------------------
     DESCRIPTION :
       - Panel administrateur complet
       - Gestion joueurs / entreprises
       - Outils systÃ¨me
       - Logs
       - Connexions en attente
   =========================================================== -->

<div class="page" id="admin_panel" style="display:none;">

    <h1>Panel Administrateur</h1>

    <!-- =======================================================
         SECTION : CREATION JOUEUR
         ======================================================= -->
    <section>
        <h2>CrÃ©er un joueur</h2>

        <input id="admin_nom" type="text" placeholder="Nom RP">
        <input id="admin_prenom" type="text" placeholder="PrÃ©nom RP">

        <button onclick="adminPanel.createJoueur()">CrÃ©er joueur</button>
    </section>


    <!-- =======================================================
         SECTION : CREATION ENTREPRISE
         ======================================================= -->
    <section>
        <h2>CrÃ©er une entreprise</h2>

        <input id="admin_ent_nom" type="text" placeholder="Nom entreprise">
        <input id="admin_ent_type" type="text" placeholder="Type">

        <button onclick="adminPanel.createEntreprise()">CrÃ©er entreprise</button>
    </section>


    <!-- =======================================================
         SECTION : OUTILS SYSTEME
         ======================================================= -->
    <section>
        <h2>Outils systÃ¨me</h2>

        <button onclick="adminPanel.refreshCaches()">ğŸ”„ RafraÃ®chir caches</button>
        <button onclick="adminPanel.rebuildTypes()">ğŸ“š Rebuild types RP</button>
        <button onclick="adminPanel.rebuildAll()">âš™ï¸ Rebuild complet</button>
        <button onclick="adminPanel.showLogs()">ğŸ“œ Afficher logs</button>
    </section>


    <!-- =======================================================
         SECTION : CONNEXIONS EN ATTENTE
         ======================================================= -->
    <section>
        <h2>Connexions en attente</h2>

        <button onclick="adminPanel.loadPendingConnexions()">ğŸ”„ RafraÃ®chir</button>

        <table class="table-pro" style="width:100%; margin-top:10px;">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nom RP</th>
                    <th>PrÃ©nom RP</th>
                    <th>Date</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody id="admin_connexions_body"></tbody>
        </table>
    </section>


    <!-- =======================================================
         SECTION : LOGS
         ======================================================= -->
    <section>
        <h2>Logs Admin</h2>
        <pre id="admin_logs" class="log-box"></pre>
    </section>

</div>

<script>
    // Chargement automatique quand la page SPA s'affiche
    document.addEventListener("spa_page_loaded", (e) => {
        if (e.detail === "admin_panel") {
            adminPanel.loadPendingConnexions();
        }
    });
</script>